<!DOCTYPE html>
<html lang="es">
    <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ReporTerra - Formulario</title>
    <link rel="icon" type="image/png" href="./public/img/logo.png"> 
    <!-- ---------------- Font ---------------- -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  </head>
  
    <body>
<!-- ---------------- Header ---------------- -->
        <header class="navbar">
        <div class="header-logo">
    <img src="./img/logo.png" width="35px" alt="Logo" id="logo-img" style="cursor:pointer;">
    <div class="logo" id="logo-text" style="cursor:pointer;">ReporTerra</div>
        </div>
        <nav>
            <a style="color:#636363; font-size: 20px; margin-right: 25px;">Contáctanos</a>
        </nav>
        </header>
    
        <div class="form-hero-section">
            <h1>Información del Incidente</h1>
        </div>

        <main class="form-main-content">
            
            <form class="incidente-form">
                <section class="incidente-form-group">
                    <h2>Tipo del incidente</h2>
                    <div class="incidente-type-buttons">
                        <button type="button" class="incidente-type-btn">Contaminación del Agua</button>
                        <button type="button" class="incidente-type-btn">Manejo de Residuos</button>
                        <button type="button" class="incidente-type-btn">Incendios Forestales</button>
                        <button type="button" class="incidente-type-btn">Deforestación y Tala Ilegal</button>
                        <button type="button" class="incidente-type-btn">Otro</button>
                    </div>
                </section>

                <section class="incidente-form-group">
                    <h2>Ubicación</h2>
                    <div class="ubicacion-row">
                        <select class="region-select">
                            <option value="" disabled selected>Región</option>
                            <option value="Costa">Costa</option>
                            <option value="Sierra">Sierra</option>
                            <option value="Oriente">Oriente</option>
                        </select>
                        <input type="text" placeholder="Dirección del incidente">
                    </div>
                </section>

                <section class="incidente-form-group">
                    <h2>Detalles</h2>
                    <textarea placeholder="Describe el incidente: qué observaste, cuándo ocurrió, impacto, involucrados..." rows="4"></textarea>
                </section>

                <section class="incidente-form-group">
                    <h2>Subir Evidencia (Opcional)</h2>
                    <div class="incidente-upload-area">
                        <img src="https://img.icons8.com/ios/50/000000/upload-to-cloud--v1.png" alt="Upload Icon" class="upload-icon"/>
                        <p>Subir fotos PNG, JPG hasta 10MB</p>
                    </div>
                </section>

                <button type="submit" class="incidente-submit-button" id="btn-reportar">Reportar</button>
            </form>

            <aside class="info-sidebar">
                <div class="sidebar-info-box">
                    <h3>¿Qué pasa después?</h3>
                    <ul>
                        <li>
                            <span class="sidebar-step-number">1</span>
                            <div>
                                <strong>Recepción</strong>
                                <p>Tu reporte es recibido y registrado inmediatamente</p>
                            </div>
                        </li>
                        <li>
                            <span class="sidebar-step-number">2</span>
                            <div>
                                <strong>Evaluación</strong>
                                <p>Expertos evalúan la gravedad y urgencia</p>
                            </div>
                        </li>
                        <li>
                            <span class="sidebar-step-number">3</span>
                            <div>
                                <strong>Acción</strong>
                                <p>Se coordina con autoridades competentes</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="sidebar-info-box sidebar-emergency-contact">
                    <h3>Contacto de Emergencia</h3>
                    <p>Para emergencias ambientales graves que requieren atención inmediata:</p>
                    <div class="sidebar-emergency-line">Línea de Emergencia 24/7</div>
                    <div class="sidebar-emergency-phone">1-800-ECO-HELP</div>
                </div>
            </aside>
                        <script type="module" src="/src/main.js"></script>
                        <div id="modal-exito" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);z-index:9999;align-items:center;justify-content:center;">
                            <div style="background:#fff;padding:30px 40px;border-radius:16px;box-shadow:0 2px 16px #0002;font-size:1.3em;color:#5B9430;display:flex;flex-direction:column;align-items:center;">
                                <span style="font-size:2em;">✅</span>
                                ¡Reporte enviado con éxito!
                            </div>
                        </div>
                        <script>
                        // Selección única y cambio de color
                        document.addEventListener('DOMContentLoaded', function() {
                                const buttons = document.querySelectorAll('.incidente-type-btn');
                                buttons.forEach(btn => {
                                        btn.addEventListener('click', function() {
                                                buttons.forEach(b => b.classList.remove('selected'));
                                                this.classList.add('selected');
                                        });
                                });

                                // Redirigir al hacer click en logo o texto
                                document.getElementById('logo-img').onclick = function() {
                                    window.location.href = 'index.html';
                                };
                                document.getElementById('logo-text').onclick = function() {
                                    window.location.href = 'index.html';
                                };

                                // Notificación y redirección al reportar
                                document.querySelector('.incidente-form').addEventListener('submit', function(e) {
                                    e.preventDefault();
                                    const modal = document.getElementById('modal-exito');
                                    modal.style.display = 'flex';
                                    setTimeout(() => {
                                        modal.style.display = 'none';
                                        window.location.href = 'index.html';
                                    }, 1700);
                                });
                        });
                        </script>
        </main>
    </body>
</html>
